# 📋 要件定義書

## 🎯 プロジェクト概要

**プロジェクト名:** シンプルTodoアプリ  
**バージョン:** 1.0.0  
**ステータス:** 開発中  
**作成日:** 2025年11月

---

## 🔍 課題の背景

### 現状の問題点

既存のTodoアプリケーションの多くは以下の問題を抱えています:
- **機能の過剰搭載**: 多すぎる機能により複雑化し、動作が遅い
- **UXの悪さ**: 複雑なインターフェースで習得に時間がかかる
- **パフォーマンス問題**: 重いフレームワークによる読み込み時間の遅延
- **モバイル非対応**: モバイルデバイスでの最適化が不十分

### ターゲットとする課題

1. **個人開発者・フリーランス**
   - シンプルで高速なタスク管理が必要
   - 複雑なツールの学習ではなく、作業に集中したい
   - 複数デバイスからのアクセスが必要

2. **小規模チーム**
   - 軽量なコラボレーションツールが必要
   - 複雑さを排除したリアルタイム更新が必要
   - シンプルで直感的なインターフェースを好む

---

## 👥 ターゲットユーザー（ペルソナ）

### メインペルソナ: 「太郎 - フリーランス開発者」

```
名前: 山田 太郎
年齢: 28歳
職業: フリーランス フルスタック開発者
場所: リモート勤務（自宅）

目標:
- 複数のクライアントプロジェクトを効率的に管理
- 複雑さを排除した日々のタスク管理
- ノートPCとスマホからのタスクアクセス

課題:
- Trelloはシンプルなタスク管理には重すぎる
- Notionは機能が多すぎて圧倒される
- 軽量で高速なツールが必要

技術レベル: 高（Webアプリの利用に慣れている）
```

### サブペルソナ: 「花子 - プロジェクトコーディネーター」

```
名前: 佐藤 花子
年齢: 32歳
職業: スタートアップのプロジェクトコーディネーター
場所: 東京

目標:
- チームのタスクを明確に整理
- プロジェクトの進捗を素早く把握
- 新メンバーの簡単なオンボーディング

課題:
- 複雑なツールは習得に時間がかかる
- シンプルなタスク分類が必要
- 即座の視覚的フィードバックが欲しい

技術レベル: 中（日常的にWebアプリを使用）
```

---

## 🎯 プロジェクトの目標

### 主要目標

1. **シンプルさ第一**
   - 学習コストの最小化（5分以内）
   - クリーンで直感的なインターフェース
   - 必須機能のみに絞る

2. **パフォーマンス**
   - 高速な読み込み時間（2秒以内）
   - 即座の更新
   - すべてのデバイスでレスポンシブ

3. **モダンな技術スタック**
   - フルスタックスキルのデモンストレーション
   - 業界標準の技術を使用
   - スケーラブルなアーキテクチャ

### 成功指標

- ✅ 読み込み時間 < 2秒
- ✅ Todo作成 < 1秒
- ✅ モバイルレスポンシブ（375px以上で動作）
- ✅ 直感的なUI（チュートリアル不要）

---

## ⚙️ 機能要件

### コア機能（MVP）

#### 1. Todo管理
```
FR-001: Todoの作成
- ユーザーはタイトル付きの新しいTodoを作成可能
- オプション: 説明、カテゴリ、期限
- バリデーション: タイトル必須（1-200文字）

FR-002: Todoリストの表示
- ユーザーはすべてのTodoを表示可能
- 表示内容: タイトル、ステータス、カテゴリ、作成日
- ソート: 作成日順（新しい順）

FR-003: Todoの更新
- ユーザーはTodoを完了/未完了に変更可能
- チェックボックスで完了状態を切り替え
- 視覚的フィードバック（完了時に取り消し線）

FR-004: Todoの削除
- ユーザーはTodoを削除可能
- 確認不要（将来的にUndo機能を実装可能）
- リストから即座に削除

FR-005: Todoのフィルタリング
- フィルター: すべて / 未完了 / 完了済み
- リアルタイムフィルタリング
- アクティブなフィルターの明確な視覚的表示
```

#### 2. カテゴリ
```
FR-006: カテゴリの追加
- ユーザーはTodoにカテゴリを割り当て可能
- 自由テキスト入力
- 色付きバッジとして表示

FR-007: カテゴリによるフィルタリング
- 特定のカテゴリのTodoを表示
- カテゴリリストへの素早いアクセス
```

#### 3. 統計情報
```
FR-008: 統計情報の表示
- 表示内容: 総数、未完了、完了済み、達成率
- リアルタイム更新
- 視覚的表現（アイコン付きカード）
```

### 将来の機能（MVP後）

```
フェーズ2:
- ユーザー認証（JWT）
- 複数ユーザー / アカウント
- データ永続化（PostgreSQL）
- 検索機能

フェーズ3:
- リアルタイムコラボレーション
- ドラッグ&ドロップによる並び替え
- 期限リマインダー
- ファイル添付（S3）

フェーズ4:
- モバイルアプリ（React Native）
- APIウェブフック
- サードパーティ連携
- 分析ダッシュボード
```

---

## 🛠️ 非機能要件

### パフォーマンス
- **レスポンス時間**: CRUD操作のAPI < 200ms
- **ページ読み込み**: 初回読み込み < 2秒
- **同時ユーザー**: 100人以上の同時接続をサポート
- **データベース**: 10,000件以上のTodoでもパフォーマンス劣化なし

### ユーザビリティ
- **アクセシビリティ**: WCAG 2.1 レベルAA準拠
- **モバイル**: レスポンシブデザイン（320px - 2560px）
- **ブラウザ**: Chrome、Firefox、Safari、Edge（最新2バージョン）をサポート
- **言語**: 日本語UI（英語版は将来対応）

### 信頼性
- **稼働率**: 99%の可用性（メンテナンス時を除く）
- **エラーハンドリング**: わかりやすいエラーメッセージ
- **データ損失**: 障害時のデータ損失ゼロ
- **復旧**: ネットワーク障害時の自動再接続

### セキュリティ
- **HTTPS**: すべての通信を暗号化
- **XSS対策**: 入力のサニタイゼーション
- **CSRF対策**: トークンベースの保護
- **SQLインジェクション対策**: パラメータ化クエリ

### スケーラビリティ
- **水平スケーリング**: コンテナ化（Docker）
- **データベース**: コネクションプーリング
- **キャッシング**: 頻繁なクエリにRedisを使用（将来）
- **CDN**: 本番環境でCloudFrontで静的アセット配信

### 保守性
- **コードスタイル**: 一貫したフォーマット（Prettier、Black）
- **ドキュメント**: 複雑なロジックにインラインコメント
- **テスト**: 重要パスのユニットテスト
- **バージョン管理**: セマンティックバージョニング付きGit

---

## 🏗️ 技術アーキテクチャ

### 技術スタックの選定

#### フロントエンド
```
技術: Next.js 14 + TypeScript
選定理由:
- SEOフレンドリー（SSR/SSGサポート）
- 型安全性によるバグ削減
- Reactアプリの業界標準
- ホットリロードによる高速開発

検討した代替案: Plain React (CRA)
不採用の理由: Next.jsはより良い構造とSSRを提供
```

#### バックエンド
```
技術: FastAPI + Python 3.11
選定理由:
- 高速なパフォーマンス（非同期サポート）
- 自動生成されるAPIドキュメント（Swagger）
- 型ヒントによるコード品質向上
- 学習・保守が容易

検討した代替案: Node.js/Express
不採用の理由: Pythonで多様性を示す（フロントエンドと異なる言語）
```

#### データベース
```
技術: PostgreSQL（本番環境ではAurora）
選定理由:
- 信頼性と成熟度
- 強力なデータ整合性
- 本番環境でのスケーラビリティ
- 広範な業界採用

検討した代替案: MongoDB
不採用の理由: リレーショナルデータモデルがTodo構造に適合
```

#### インフラ
```
技術: Docker + AWS（ECS/RDS/S3/CloudFront）
選定理由:
- 一貫性のためのコンテナ化
- 業界標準のクラウドプラットフォーム
- スケーラブルで費用対効果が高い
- DevOpsスキルのデモンストレーション

検討した代替案: Heroku
不採用の理由: 制御性が低く、スケール時のコストが高い
```

---

## 🎨 UI/UX要件

### デザイン原則

1. **ミニマリストデザイン**
   - クリーンで白い背景
   - 十分な余白
   - 明確な視覚的階層

2. **カラースキーム**
   - プライマリ: ブルー (#0ea5e9)
   - 成功: グリーン (#10b981)
   - 警告: オレンジ (#f97316)
   - ニュートラル: グレーの階調

3. **タイポグラフィ**
   - フォント: Inter（クリーンでモダン）
   - サイズ: 明確な階層（h1: 2rem、本文: 1rem）

4. **インタラクション**
   - スムーズなトランジション（200-300ms）
   - 明確なホバー状態
   - 非同期操作のローディングインジケーター

### レスポンシブブレークポイント

```
モバイル: 320px - 767px
タブレット: 768px - 1023px
デスクトップ: 1024px以上
```

---

## 📐 データモデル

### Todo エンティティ

```typescript
interface Todo {
  id: number              // 自動インクリメント
  title: string           // 必須、1-200文字
  description?: string    // オプション、最大1000文字
  completed: boolean      // デフォルト: false
  category?: string       // オプション、最大50文字
  due_date?: DateTime     // オプション
  created_at: DateTime    // 自動生成
  updated_at: DateTime    // 自動更新
}
```

---

## 🚀 開発フェーズ

### フェーズ1: MVP（現在）
**期間:** 1-2週間  
**ステータス:** ✅ 完了

- [x] 基本的なCRUD機能
- [x] ステータスによるフィルタリング
- [x] 統計ダッシュボード
- [x] レスポンシブUI
- [x] Dockerセットアップ

### フェーズ2: データベース統合
**期間:** 1週間  
**ステータス:** 🔄 計画中

- [ ] PostgreSQL統合
- [ ] データ永続化
- [ ] マイグレーションスクリプト
- [ ] バックアップ戦略

### フェーズ3: ユーザー認証
**期間:** 1-2週間  
**ステータス:** 📝 計画中

- [ ] JWT認証
- [ ] ユーザー登録/ログイン
- [ ] パスワードハッシュ化
- [ ] 保護されたルート

### フェーズ4: AWS デプロイ
**期間:** 1週間  
**ステータス:** 📝 計画中

- [ ] ECS セットアップ
- [ ] RDS 設定
- [ ] S3 + CloudFront
- [ ] CI/CDパイプライン

---

## 📊 リスク評価

### 技術的リスク

| リスク | 影響度 | 発生確率 | 軽減策 |
|------|--------|----------|---------|
| APIパフォーマンス問題 | 高 | 低 | キャッシング実装、クエリ最適化 |
| データベーススケーリング | 中 | 中 | Aurora Serverless使用、コネクションプーリング実装 |
| セキュリティ脆弱性 | 高 | 低 | 定期的なセキュリティ監査、入力バリデーション |
| ブラウザ互換性 | 低 | 低 | 主要ブラウザでのテスト |

### ビジネスリスク

| リスク | 影響度 | 発生確率 | 軽減策 |
|------|--------|----------|---------|
| 機能の肥大化 | 中 | 高 | MVPに固執、優先順位付けを徹底 |
| 過剰なエンジニアリング | 中 | 中 | シンプルに保つ、段階的に機能追加 |
| ユーザー採用 | 低 | N/A | ポートフォリオプロジェクト、本番運用目的ではない |

---

## 📚 参考資料

- [FastAPI ドキュメント](https://fastapi.tiangolo.com/)
- [Next.js ドキュメント](https://nextjs.org/docs)
- [PostgreSQL ベストプラクティス](https://www.postgresql.org/docs/)
- [AWS Well-Architected Framework](https://aws.amazon.com/architecture/well-architected/)

---

## 📝 変更履歴

| バージョン | 日付 | 変更内容 |
|---------|------|---------|
| 1.0.0 | 2025-11-19 | 初回要件定義作成 |

---

**ドキュメント所有者:** ポートフォリオプロジェクト  
**最終更新日:** 2025年11月19日  
**次回レビュー:** MVP完了後

